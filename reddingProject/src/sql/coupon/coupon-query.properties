selectCouponList=SELECT C.COUPON_CODE, C.COUPON_NAME, C.COUPON_DESCRITION, C.COUPON_CATEGORY, C.DISCOUNT_TYPE, C.DISCOUNT_RATE, C.DISCOUNT_AMOUNT, C.COUPON_STARTDATE, C.COUPON_ENDDATE, C.COUPON_STATUS, A.ORIGIN_NAME, A.CHANGE_NAME, A.FILE_PATH FROM COUPON C JOIN ATTACHMENT A ON(C.COUPON_CODE = A.COUPON_CODE)
insertCoupon=INSERT INTO COUPON VALUES(SEQ_COUPON_CODE.NEXTVAL, ?, ?, ?, ?, ?, ?, DEFAULT, ?, ?)
insertAttachment=INSERT INTO ATTACHMENT VALUES(SEQ_AID.NEXTVAL, ?, ?, ?, 30, NULL, NULL, ?, NULL)
selectCurrval=SELECT SEQ_COUPON_CODE.CURRVAL FROM DUAL
updateCouponListY=UPDATE COUPON SET COUPON_STATUS = 'Y' WHERE SYSDATE BETWEEN COUPON_STARTDATE AND COUPON_ENDDATE
updateCouponListN=UPDATE COUPON SET COUPON_STATUS = 'N' WHERE SYSDATE > COUPON_ENDDATE
selectIssuableCouponList=SELECT C.COUPON_CODE, C.COUPON_NAME, C.COUPON_DESCRITION, C.COUPON_CATEGORY, C.DISCOUNT_TYPE, C.DISCOUNT_RATE, C.DISCOUNT_AMOUNT, C.COUPON_STARTDATE, C.COUPON_ENDDATE, C.COUPON_STATUS, A.ORIGIN_NAME, A.CHANGE_NAME, A.FILE_PATH FROM COUPON C JOIN ATTACHMENT A ON(C.COUPON_CODE = A.COUPON_CODE) WHERE C.COUPON_STATUS = 'Y'
insertCouponIntoMember=INSERT INTO COUPON_HISTORY VALUES(SEQ_CHISTORY_CODE.NEXTVAL, ?, ?, ?, DEFAULT)
selectAvailableCouponList=SELECT C.COUPON_CODE, C.COUPON_CATEGORY, C.COUPON_NAME, C.COUPON_ENDDATE, C.DISCOUNT_RATE, C.DISCOUNT_AMOUNT, CH.CHISTORY_CODE, CH.COUPON_STATUS, CH.COUPON_PUB_DATE, A.ORIGIN_NAME, A.CHANGE_NAME, A.FILE_PATH FROM COUPON C JOIN COUPON_HISTORY CH ON(C.COUPON_CODE = CH.COUPON_CODE) JOIN ATTACHMENT A ON(C.COUPON_CODE = A.COUPON_CODE) WHERE CH.MNO = ? AND CH.COUPON_STATUS = ?
checkInsertCouponIntoMember=SELECT COUPON_CODE FROM (SELECT COUPON_CODE FROM COUPON WHERE COUPON_STATUS = 'Y') WHERE NOT COUPON_CODE IN (SELECT COUPON_CODE FROM COUPON_HISTORY WHERE MNO = ?)
